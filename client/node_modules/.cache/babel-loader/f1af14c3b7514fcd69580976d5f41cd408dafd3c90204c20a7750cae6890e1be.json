{"ast":null,"code":"import React from'react';import{Routes,Route,Navigate}from'react-router-dom';import{useAuth}from'./contexts/AuthContext';import{API_URL}from'./config';// Components\nimport Login from'./components/Login';import WeddingManager from'./components/WeddingManager';import WeddingDashboard from'./components/WeddingDashboard';import RSVPForm from'./components/RSVPForm';import ProtectedRoute from'./components/ProtectedRoute';import CustomizeWeddingPage from'./components/CustomizeWeddingPage';import ErrorBoundary from'./components/ErrorBoundary';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const{isMasterAdmin,currentWedding}=useAuth();return/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen gradient-bg\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/rsvp/:weddingId\",element:/*#__PURE__*/_jsx(RSVPForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!isMasterAdmin&&!currentWedding?/*#__PURE__*/_jsx(Login,{}):/*#__PURE__*/_jsx(Navigate,{to:isMasterAdmin?\"/manager\":\"/dashboard\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/manager\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requireMaster:true,children:/*#__PURE__*/_jsx(WeddingManager,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requireWedding:true,children:/*#__PURE__*/_jsx(WeddingDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/customize\",element:/*#__PURE__*/_jsx(CustomizeWeddingPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:isMasterAdmin?/*#__PURE__*/_jsx(Navigate,{to:\"/manager\",replace:true}):currentWedding?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})});}export default App;","map":{"version":3,"names":["React","Routes","Route","Navigate","useAuth","API_URL","Login","WeddingManager","WeddingDashboard","RSVPForm","ProtectedRoute","CustomizeWeddingPage","ErrorBoundary","jsx","_jsx","jsxs","_jsxs","App","isMasterAdmin","currentWedding","children","className","path","element","to","replace","requireMaster","requireWedding"],"sources":["C:/Users/yapro/rsvp-manager/client/src/App.js"],"sourcesContent":["import React from 'react';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport { useAuth } from './contexts/AuthContext';\nimport { API_URL } from './config';\n\n// Components\nimport Login from './components/Login';\nimport WeddingManager from './components/WeddingManager';\nimport WeddingDashboard from './components/WeddingDashboard';\nimport RSVPForm from './components/RSVPForm';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport CustomizeWeddingPage from './components/CustomizeWeddingPage';\nimport ErrorBoundary from './components/ErrorBoundary';\n\nfunction App() {\n  const { isMasterAdmin, currentWedding } = useAuth();\n\n  return (\n    <ErrorBoundary>\n      <div className=\"min-h-screen gradient-bg\">\n        <Routes>\n          {/* Public RSVP Form */}\n          <Route path=\"/rsvp/:weddingId\" element={<RSVPForm />} />\n          \n          {/* Login Page */}\n          <Route \n            path=\"/login\" \n            element={\n              !isMasterAdmin && !currentWedding ? (\n                <Login />\n              ) : (\n                <Navigate to={isMasterAdmin ? \"/manager\" : \"/dashboard\"} replace />\n              )\n            } \n          />\n          \n          {/* Master Admin Routes */}\n          <Route \n            path=\"/manager\" \n            element={\n              <ProtectedRoute requireMaster>\n                <WeddingManager />\n              </ProtectedRoute>\n            } \n          />\n          \n          {/* Wedding Admin Routes */}\n          <Route \n            path=\"/dashboard\" \n            element={\n              <ProtectedRoute requireWedding>\n                <WeddingDashboard />\n              </ProtectedRoute>\n            } \n          />\n\n          {/* Customize Wedding Page */}\n          <Route path=\"/customize\" element={<CustomizeWeddingPage />} />\n          \n          {/* Default redirect */}\n          <Route \n            path=\"/\" \n            element={\n              isMasterAdmin ? (\n                <Navigate to=\"/manager\" replace />\n              ) : currentWedding ? (\n                <Navigate to=\"/dashboard\" replace />\n              ) : (\n                <Navigate to=\"/login\" replace />\n              )\n            } \n          />\n          \n          {/* Catch all */}\n          <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n        </Routes>\n      </div>\n    </ErrorBoundary>\n  );\n}\n\nexport default App; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CAC1D,OAASC,OAAO,KAAQ,wBAAwB,CAChD,OAASC,OAAO,KAAQ,UAAU,CAElC;AACA,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,cAAc,KAAM,6BAA6B,CACxD,MAAO,CAAAC,gBAAgB,KAAM,+BAA+B,CAC5D,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,cAAc,KAAM,6BAA6B,CACxD,MAAO,CAAAC,oBAAoB,KAAM,mCAAmC,CACpE,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAAEC,aAAa,CAAEC,cAAe,CAAC,CAAGf,OAAO,CAAC,CAAC,CAEnD,mBACEU,IAAA,CAACF,aAAa,EAAAQ,QAAA,cACZN,IAAA,QAAKO,SAAS,CAAC,0BAA0B,CAAAD,QAAA,cACvCJ,KAAA,CAACf,MAAM,EAAAmB,QAAA,eAELN,IAAA,CAACZ,KAAK,EAACoB,IAAI,CAAC,kBAAkB,CAACC,OAAO,cAAET,IAAA,CAACL,QAAQ,GAAE,CAAE,CAAE,CAAC,cAGxDK,IAAA,CAACZ,KAAK,EACJoB,IAAI,CAAC,QAAQ,CACbC,OAAO,CACL,CAACL,aAAa,EAAI,CAACC,cAAc,cAC/BL,IAAA,CAACR,KAAK,GAAE,CAAC,cAETQ,IAAA,CAACX,QAAQ,EAACqB,EAAE,CAAEN,aAAa,CAAG,UAAU,CAAG,YAAa,CAACO,OAAO,MAAE,CAErE,CACF,CAAC,cAGFX,IAAA,CAACZ,KAAK,EACJoB,IAAI,CAAC,UAAU,CACfC,OAAO,cACLT,IAAA,CAACJ,cAAc,EAACgB,aAAa,MAAAN,QAAA,cAC3BN,IAAA,CAACP,cAAc,GAAE,CAAC,CACJ,CACjB,CACF,CAAC,cAGFO,IAAA,CAACZ,KAAK,EACJoB,IAAI,CAAC,YAAY,CACjBC,OAAO,cACLT,IAAA,CAACJ,cAAc,EAACiB,cAAc,MAAAP,QAAA,cAC5BN,IAAA,CAACN,gBAAgB,GAAE,CAAC,CACN,CACjB,CACF,CAAC,cAGFM,IAAA,CAACZ,KAAK,EAACoB,IAAI,CAAC,YAAY,CAACC,OAAO,cAAET,IAAA,CAACH,oBAAoB,GAAE,CAAE,CAAE,CAAC,cAG9DG,IAAA,CAACZ,KAAK,EACJoB,IAAI,CAAC,GAAG,CACRC,OAAO,CACLL,aAAa,cACXJ,IAAA,CAACX,QAAQ,EAACqB,EAAE,CAAC,UAAU,CAACC,OAAO,MAAE,CAAC,CAChCN,cAAc,cAChBL,IAAA,CAACX,QAAQ,EAACqB,EAAE,CAAC,YAAY,CAACC,OAAO,MAAE,CAAC,cAEpCX,IAAA,CAACX,QAAQ,EAACqB,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAElC,CACF,CAAC,cAGFX,IAAA,CAACZ,KAAK,EAACoB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAET,IAAA,CAACX,QAAQ,EAACqB,EAAE,CAAC,GAAG,CAACC,OAAO,MAAE,CAAE,CAAE,CAAC,EAClD,CAAC,CACN,CAAC,CACO,CAAC,CAEpB,CAEA,cAAe,CAAAR,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}